<div id="reassign-modal-backdrop"
     class="deny-modal-backdrop"
     data-reassign-modal-target="backdrop"
     style="display:none;">
  <div class="deny-modal" data-reassign-modal-target="modal" role="dialog" aria-modal="true">
    <div class="deny-modal__header">
      <h3 data-reassign-modal-target="title">Reassign Task</h3>
      <button type="button" class="deny-modal__close"
              data-action="reassign-modal#close">âœ•</button>
    </div>

    <div class="deny-modal__body">
      <%= form_with url: reassign_task_reassignments_path,
                    method: :post,
                    data: { reassign_modal_target: "form", turbo: false } do |f| %>

        <%= f.hidden_field :task_type, data: { reassign_modal_target: "taskType" } %>
        <%= f.hidden_field :task_id, data: { reassign_modal_target: "taskId" } %>

        <div class="form-group">
          <label for="to_employee_id">Assign to</label>
          <%= f.select :to_employee_id,
                       @employees.map { |e| ["#{e.first_name} #{e.last_name} (#{e.employee_id})", e.employee_id] },
                       { include_blank: "Select employee..." },
                       class: "form-control",
                       required: true,
                       data: { reassign_modal_target: "employeeSelect" } %>
        </div>

        <div class="form-group">
          <label for="reason">Reason for reassignment (optional)</label>
          <%= f.text_area :reason,
                          class: "form-control",
                          rows: 3,
                          placeholder: "Why is this being reassigned?" %>
        </div>

        <div class="deny-modal__actions">
          <button type="button" class="btn" data-action="reassign-modal#close">Cancel</button>
          <button type="submit" class="btn reassign">Reassign</button>
        </div>
      <% end %>
    </div>
  </div>
</div>
